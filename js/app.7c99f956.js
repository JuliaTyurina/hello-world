(function(){"use strict";var t={86:function(t,e,r){r.d(e,{C:function(){return a}});const a="https://vue-study.skillbox.cc"},3736:function(t,e,r){function a(t){return(new Intl.NumberFormat).format(t)}r.d(e,{Z:function(){return a}})},9098:function(t,e,r){r.d(e,{Z:function(){return i}});var a=r(3736),o=r(4161),l=r(86),s=r(4870),c=r(65);function i(){const t=(0,c.oR)(),e=(0,s.iH)(null),r=(0,s.qj)({isLoading:!0,isFailed:!1}),i=(0,s.iH)(1),n=(0,s.iH)(!1),u=(0,s.iH)(!1),d=(0,s.iH)(!1),p=()=>{n.value=!1,u.value=!0,t.dispatch("addProductToCart",{productId:e.value.id,amount:i.value}).then((()=>{n.value=!0,u.value=!1,d.value=!0}))},m=t=>{r.isLoading=!0,r.isFailed=!1,o.Z.get(l.C+"/api/products/"+t).then((t=>{e.value=Object.assign(t.data,{pricePretty:(0,a.Z)(t.data.price),imageUrl:t.data.image.file.url}),console.log(Object.assign(t.data,{pricePretty:(0,a.Z)(t.data.price),imageUrl:t.data.image.file.url}))})).catch((()=>r.isFailed=!0)).finally((()=>r.isLoading=!1))};return{product:e,status:r,fetchProduct:m,doAddToCart:p,productAmount:i,productAdded:n,productAddSending:u,isShowAddedMassage:d}}},3755:function(t,e,r){var a=r(9242),o=r(4951),l=r(3396);const s={class:"header"},c={class:"header__wrapper container"},i=(0,l._)("span",{class:"header__info"},"Каталог",-1),n=(0,l._)("a",{class:"header__logo",href:"#"},[(0,l._)("img",{src:"img/svg/logo-tech.svg",alt:"Логотип интернет магазина Технозавррр",width:"190",height:"33"})],-1),u=(0,l._)("a",{class:"header__tel",href:"tel:8 800 600 90 09"}," 8 800 600 90 09 ",-1),d=(0,l.uE)('<footer class="footer"><div class="footer__wrapper container"><ul class="footer__links"><li><a class="footer__link" href="#"> Каталог </a></li><li><a class="footer__link" href="tel:88006009009"> 8 800 600 90 09 </a></li><li><a class="footer__link" href="mailto:hi@technozavrrr.com"> hi@technozavrrr.com </a></li><li><a class="footer__link" href="#"> Распродажа </a></li><li><a class="footer__link footer__link--medium" href="#"> Заказать звонок </a></li></ul><ul class="footer__social social"><li class="social__item"><a class="social__link" href="#" aria-label="Вконтакте"><svg width="20" height="11" fill="currentColor"><use xlink:href="#icon-vk"></use></svg></a></li><li class="social__item"><a class="social__link" href="#" aria-label="Инстаграм"><svg width="17" height="17" fill="currentColor"><use xlink:href="#icon-insta"></use></svg></a></li><li class="social__item"><a class="social__link" href="#" aria-label="Facebook"><svg width="17" height="17" fill="currentColor"><use xlink:href="#icon-facebook"></use></svg></a></li><li class="social__item"><a class="social__link" href="#" aria-label="Twitter"><svg width="17" height="14" fill="currentColor"><use xlink:href="#icon-twitter"></use></svg></a></li><li class="social__item"><a class="social__link" href="#" aria-label="Telegram"><svg width="19" height="17" fill="currentColor"><use xlink:href="#icon-telegram"></use></svg></a></li></ul><p class="footer__desc"> Все права на материалы, находящиеся на сайте, охраняются в соответствии с законодательством РФ, в том числе об авторском праве и смежных правах. </p><ul class="footer__data"><li><a class="footer__link" href="#" target="_blank" rel="noopener" type="application/pdf"> Политика конфиденциальности </a></li><li><a class="footer__link" href="#" target="_blank" rel="noopener" type="application/pdf"> Публичная оферта </a></li></ul><span class="footer__copyright"> © 2020 Технозавррр </span></div></footer><div id="teleport-target"></div>',2);function p(t,e,r,a,o,p){const m=(0,l.up)("CartIndicator"),_=(0,l.up)("router-view");return(0,l.wg)(),(0,l.iD)(l.HY,null,[(0,l._)("header",s,[(0,l._)("div",c,[i,n,u,(0,l.Wm)(m)])]),((0,l.wg)(),(0,l.j4)(_,{key:t.$route.fullPath})),d],64)}var m=r(7139);const _=(0,l._)("svg",{width:"30",height:"21",fill:"currentColor"},[(0,l._)("use",{"xlink:href":"#icon-cart"})],-1),h={class:"header__count","aria-label":"Количество товаров"};function f(t,e,r,a,o,s){const c=(0,l.up)("router-link");return(0,l.wg)(),(0,l.j4)(c,{class:"header__cart","aria-label":"Корзина с товарами",to:{name:"cart"}},{default:(0,l.w5)((()=>[_,(0,l._)("span",h,(0,m.zw)(t.cartProducts.length),1)])),_:1})}var g=r(65),b={computed:{...(0,g.Se)({cartProducts:"cartDetailProducts"})}},v=r(89);const y=(0,v.Z)(b,[["render",f]]);var k=y,P={components:{CartIndicator:k},created(){const t=localStorage.getItem("userAccessKey");t&&this.updateUserAccessKey(t),this.loadCart()},methods:{...(0,g.nv)(["loadCart"]),...(0,g.OI)(["updateUserAccessKey"])}};const w=(0,v.Z)(P,[["render",p]]);var C=w,D=r(2483),A=r(7813);const I={class:"content container"},V={class:"content__top content__top--catalog"},T=(0,l._)("h1",{class:"content__title"}," Каталог ",-1),z={class:"content__info"},x={class:"content__catalog"},F={class:"catalog"},Z={key:0},O=(0,l._)("img",{src:A,alt:""},null,-1),S=[O],E={key:1};function L(t,e,r,o,s,c){const i=(0,l.up)("ProductFilter"),n=(0,l.up)("ProductList"),u=(0,l.up)("BasePagination");return(0,l.wg)(),(0,l.iD)("main",I,[(0,l._)("div",V,[T,(0,l._)("span",z,(0,m.zw)(s.productsData?.items?.length)+" "+(0,m.zw)(c.textCorrectCase),1)]),(0,l._)("div",x,[(0,l.Wm)(i,{"price-from":s.filterPriceFrom,"price-to":s.filterPriceTo,"category-id":s.filterCategoryId,"color-value":s.filterColorValue,class:"test",test:"test"},null,8,["price-from","price-to","category-id","color-value"]),(0,l._)("section",F,[s.productsLoading?((0,l.wg)(),(0,l.iD)("div",Z,S)):(0,l.kq)("",!0),s.productsLoadingFailed?((0,l.wg)(),(0,l.iD)("div",E,[(0,l.Uk)(" Произошла ошибка при загрузке товаров "),(0,l._)("button",{onClick:e[0]||(e[0]=(0,a.iM)(((...t)=>c.loadProducts&&c.loadProducts(...t)),["prevent"]))}," Попробовать еще раз ")])):(0,l.kq)("",!0),(0,l.Wm)(n,{products:c.products},null,8,["products"]),(0,l.Wm)(u,{modelValue:s.page,"onUpdate:modelValue":e[1]||(e[1]=t=>s.page=t),count:c.countProducts,"per-page":s.productsPerPage},null,8,["modelValue","count","per-page"])])])])}const U={class:"catalog__list"};function W(t,e,r,a,o,s){const c=(0,l.up)("ProductItems");return(0,l.wg)(),(0,l.iD)("ul",U,[(0,l.Wm)(c,{class:"catalog__item",products:r.products},null,8,["products"])])}const M=["src","alt"],K={class:"catalog__title"},$=["onClick"],B={class:"catalog__price"};function j(t,e,r,o,s,c){const i=(0,l.up)("router-link"),n=(0,l.up)("ProductColor"),u=(0,l.up)("ProductQuickView"),d=(0,l.up)("BaseModal");return(0,l.wg)(),(0,l.iD)(l.HY,null,[((0,l.wg)(!0),(0,l.iD)(l.HY,null,(0,l.Ko)(c.productsNormalized,(e=>((0,l.wg)(),(0,l.iD)("li",(0,l.dG)(t.$attrs,{key:e.id}),[(0,l.Wm)(i,{class:"catalog__pic",href:"#",to:{name:"product",params:{id:e.id}}},{default:(0,l.w5)((()=>[(0,l._)("img",{src:e.image,alt:e.title},null,8,M)])),_:2},1032,["to"]),(0,l._)("h3",K,[(0,l._)("a",{href:"#",onClick:(0,a.iM)((t=>c.openQuickView(e.id)),["prevent"])},(0,m.zw)(e.title),9,$)]),(0,l._)("span",B,(0,m.zw)(e.pricePretty)+" ₽ ",1),(0,l.Wm)(n,{"product-colors":e.colors},null,8,["product-colors"])],16)))),128)),(0,l.Wm)(d,{open:c.isQuickViewOpen,"onUpdate:open":e[0]||(e[0]=t=>c.isQuickViewOpen=t)},{default:(0,l.w5)((()=>[(0,l.Wm)(u,{"product-id":s.currentProductId},null,8,["product-id"])])),_:1},8,["open"])],64)}var N=r(3736),H=r(234),q=r(9816),Y={inheritAttrs:!1,props:["products"],components:{ProductColor:H.Z,BaseModal:q.Z,ProductQuickView:(0,l.RC)({loader:()=>r.e(753).then(r.bind(r,5753)),delay:0,loadingComponent:()=>(0,l.h)("div","Загрузка...")})},data(){return{color:"#F0F0F0",currentProductId:null}},computed:{isQuickViewOpen:{get(){return!!this.currentProductId},set(t){t||(this.currentProductId=null)}},productsNormalized(){return this.products.map((t=>({...t,pricePretty:(0,N.Z)(t.price)})))}},methods:{openQuickView(t){this.currentProductId=t}}};const Q=(0,v.Z)(Y,[["render",j]]);var G=Q,R={props:["products"],components:{ProductItems:G}};const X=(0,v.Z)(R,[["render",W]]);var J=X;const tt={class:"catalog__pagination pagination"},et={class:"pagination__item"},rt=(0,l._)("svg",{width:"8",height:"14",fill:"currentColor"},[(0,l._)("use",{"xlink:href":"#icon-arrow-left"})],-1),at=[rt],ot=["onClick"],lt={class:"pagination__item"},st=(0,l._)("svg",{width:"8",height:"14",fill:"currentColor"},[(0,l._)("use",{"xlink:href":"#icon-arrow-right"})],-1),ct=[st];function it(t,e,r,o,s,c){return(0,l.wg)(),(0,l.iD)("ul",tt,[(0,l._)("li",et,[(0,l._)("a",{href:"#",class:(0,m.C_)(["pagination__link pagination__link--arrow",{"pagination__link--disabled":1===c.page}]),onClick:e[0]||(e[0]=(0,a.iM)(((...t)=>c.prevPage&&c.prevPage(...t)),["prevent"])),"aria-label":"Предыдущая страница"},at,2)]),((0,l.wg)(!0),(0,l.iD)(l.HY,null,(0,l.Ko)(c.pages,(t=>((0,l.wg)(),(0,l.iD)("li",{class:"pagination__item",key:t},[(0,l._)("a",{href:"#",class:(0,m.C_)(["pagination__link",{"pagination__link--current":t===c.page}]),onClick:(0,a.iM)((e=>c.paginate(t)),["prevent"])},(0,m.zw)(t),11,ot)])))),128)),(0,l._)("li",lt,[(0,l._)("a",{href:"#",class:(0,m.C_)(["pagination__link pagination__link--arrow",{"pagination__link--disabled":c.page===c.pages}]),onClick:e[1]||(e[1]=(0,a.iM)(((...t)=>c.nextPage&&c.nextPage(...t)),["prevent"])),"aria-label":"Следующая страница"},ct,2)])])}var nt={props:["modelValue","count","perPage"],computed:{page(){return this.modelValue},pages(){return Math.ceil(this.count/this.perPage)}},methods:{paginate(t){this.$emit("update:modelValue",t)},prevPage(){this.page>1&&this.$emit("update:modelValue",this.page-1)},nextPage(){this.page<this.pages&&this.$emit("update:modelValue",this.page+1)}}};const ut=(0,v.Z)(nt,[["render",it]]);var dt=ut;const pt={class:"filter"},mt=(0,l._)("h2",{class:"filter__title"},"Фильтры",-1),_t={class:"form__block"},ht=(0,l._)("legend",{class:"form__legend"},"Цена",-1),ft={class:"form__label form__label--price"},gt=(0,l._)("span",{class:"form__value"},"От",-1),bt={class:"form__label form__label--price"},vt=(0,l._)("span",{class:"form__value"},"До",-1),yt={class:"form__block"},kt=(0,l._)("legend",{class:"form__legend"},"Категория",-1),Pt={class:"form__label form__label--select"},wt=(0,l._)("option",{value:"0"},"Все категории",-1),Ct=["value"],Dt={class:"form__block"},At=(0,l._)("legend",{class:"form__legend"},"Цвет",-1),It={class:"colors"},Vt=["value","onClick"],Tt={class:"colors__label"},zt=(0,l._)("input",{class:"colors__radio sr-only",type:"radio",name:"color"},null,-1),xt=(0,l.uE)('<fieldset class="form__block"><legend class="form__legend">Объемб в ГБ</legend><ul class="check-list"><li class="check-list__item"><label class="check-list__label"><input class="check-list__check sr-only" type="checkbox" name="volume" value="8" checked=""><span class="check-list__desc"> 8 <span>(313)</span></span></label></li><li class="check-list__item"><label class="check-list__label"><input class="check-list__check sr-only" type="checkbox" name="volume" value="16"><span class="check-list__desc"> 16 <span>(461)</span></span></label></li><li class="check-list__item"><label class="check-list__label"><input class="check-list__check sr-only" type="checkbox" name="volume" value="32"><span class="check-list__desc"> 32 <span>(313)</span></span></label></li><li class="check-list__item"><label class="check-list__label"><input class="check-list__check sr-only" type="checkbox" name="volume" value="64"><span class="check-list__desc"> 64 <span>(313)</span></span></label></li><li class="check-list__item"><label class="check-list__label"><input class="check-list__check sr-only" type="checkbox" name="volume" value="128"><span class="check-list__desc"> 128 <span>(313)</span></span></label></li><li class="check-list__item"><label class="check-list__label"><input class="check-list__check sr-only" type="checkbox" name="volume" value="264"><span class="check-list__desc"> 264 <span>(313)</span></span></label></li></ul></fieldset><button class="filter__submit button button--primery" type="submit"> Применить </button>',2);function Ft(t,e,r,o,s,c){return(0,l.wg)(),(0,l.iD)("aside",pt,[mt,(0,l._)("form",(0,l.dG)(t.$attrs,{class:"filter__form form",action:"#",method:"get",onSubmit:e[4]||(e[4]=(0,a.iM)(((...t)=>c.submit&&c.submit(...t)),["prevent"]))}),[(0,l._)("fieldset",_t,[ht,(0,l._)("label",ft,[(0,l.wy)((0,l._)("input",{class:"form__input",type:"text",name:"min-price","onUpdate:modelValue":e[0]||(e[0]=t=>s.currentPriceFrom=t)},null,512),[[a.nr,s.currentPriceFrom,void 0,{number:!0}]]),gt]),(0,l._)("label",bt,[(0,l.wy)((0,l._)("input",{class:"form__input",type:"text",name:"max-price","onUpdate:modelValue":e[1]||(e[1]=t=>s.currentPriceTo=t)},null,512),[[a.nr,s.currentPriceTo,void 0,{number:!0}]]),vt])]),(0,l._)("fieldset",yt,[kt,(0,l._)("label",Pt,[(0,l.wy)((0,l._)("select",{class:"form__select",name:"category","onUpdate:modelValue":e[2]||(e[2]=t=>s.currentCategoryId=t)},[wt,((0,l.wg)(!0),(0,l.iD)(l.HY,null,(0,l.Ko)(c.categories,(t=>((0,l.wg)(),(0,l.iD)("option",{value:t.id,key:t.id},(0,m.zw)(t.title),9,Ct)))),128))],512),[[a.bM,s.currentCategoryId]])])]),(0,l._)("fieldset",Dt,[At,(0,l._)("ul",It,[((0,l.wg)(!0),(0,l.iD)(l.HY,null,(0,l.Ko)(c.colors,(t=>((0,l.wg)(),(0,l.iD)("li",{class:"colors__item",value:t.value,key:t.id,onClick:e=>c.choiceColor(t.id)},[(0,l._)("label",Tt,[zt,(0,l._)("span",{class:"colors__value",style:(0,m.j5)({"background-color":t.code})},null,4)])],8,Vt)))),128))])]),xt,(0,l._)("button",{class:"filter__reset button button--second",type:"button",onClick:e[3]||(e[3]=(...t)=>c.reset&&c.reset(...t))}," Сбросить ")],16)])}var Zt=r(4161),Ot=r(86),St={props:["priceFrom","priceTo","categoryId","colorValue"],data(){return{currentPriceFrom:0,currentPriceTo:0,currentCategoryId:0,currentColor:null,categoriesData:null,colorsData:null}},computed:{categories(){return this.categoriesData?this.categoriesData.items:[]},colors(){return this.colorsData?this.colorsData.items:[]}},watch:{priceFrom(t){this.currentPriceFrom=t},priceTo(t){this.currentPriceTo=t},categoryId(t){this.currentCategoryId=t},colorValue(t){this.currentColor=t}},methods:{submit(){this.$emit("update:priceFrom",this.currentPriceFrom),this.$emit("update:priceTo",this.currentPriceTo),this.$emit("update:categoryId",this.currentCategoryId),this.$emit("update:colorValue",this.currentColor)},reset(){this.$emit("update:priceFrom",0),this.$emit("update:priceTo",0),this.$emit("update:categoryId",0),this.$emit("update:colorValue",null)},choiceColor(t){this.currentColor=t},loadCategories(){Zt.Z.get(Ot.C+"/api/productCategories").then((t=>this.categoriesData=t.data))},loadColors(){Zt.Z.get(Ot.C+"/api/colors").then((t=>this.colorsData=t.data))}},created(){this.loadCategories(),this.loadColors()}};const Et=(0,v.Z)(St,[["render",Ft]]);var Lt=Et;function Ut(t){"number"!=typeof t&&(t=0);const e="товар";let r="";const a=t.toString().split("",-1),o=Number(a[a.length-1]);return 1<o&&o<5&&(r="a"),(o>4||t>9&&t<15||0==o)&&(r="ов"),e+r}var Wt={components:{ProductList:J,BasePagination:dt,ProductFilter:Lt},data(){return{filterPriceFrom:0,filterPriceTo:0,filterCategoryId:0,filterColorValue:null,page:1,productsPerPage:6,productsData:null,productsLoading:!1,productsLoadingFailed:!1}},computed:{products(){const t=this.productsData?.items?.map((t=>({...t,image:t.image.file.url})));return t??[]},countProducts(){return this.productsData?this.productsData.pagination.total:0},textCorrectCase(){return Ut(this.productsData?.items?.length)}},methods:{loadProducts(){this.productsLoading=!0,this.productsLoadingFailed=!1,clearTimeout(this.loadProductsTimer),this.loadProductsTimer=setTimeout((()=>{Zt.Z.get(Ot.C+"/api/products",{params:{page:this.page,limit:this.productsPerPage,categoryId:this.filterCategoryId,minPrice:this.filterPriceFrom,maxPrice:this.filterPriceTo,colorId:this.filterColorValue}}).then((t=>this.productsData=t.data)).catch((()=>this.productsLoadingFailed=!0)).then((()=>this.productsLoading=!1))}),0)}},created(){this.loadProducts()},watch:{page(){this.loadProducts()},filterPriceFrom(){this.loadProducts()},filterPriceTo(){this.loadProducts()},filterCategoryId(){this.loadProducts()},filterColorValue(){this.loadProducts()}}};const Mt=(0,v.Z)(Wt,[["render",L]]);var Kt=Mt;function $t(t,e,r,a,o,s){return(0,l.wg)(),(0,l.iD)("h1",null,"Страница не найдена")}var Bt={};const jt=(0,v.Z)(Bt,[["render",$t]]);var Nt=jt;const Ht={key:0,class:"content container"},qt=(0,l._)("img",{src:A,alt:""},null,-1),Yt=[qt],Qt={key:1,class:"content container"},Gt=(0,l._)("div",null," Не удалось загрузить товар ",-1),Rt=[Gt],Xt={key:2,class:"content container"},Jt={class:"content__top"},te={class:"breadcrumbs"},ee={class:"breadcrumbs__item"},re={class:"breadcrumbs__item"},ae={class:"breadcrumbs__item"},oe={class:"breadcrumbs__link"},le={class:"item"},se={class:"item__pics pics"},ce={class:"pics__wrapper"},ie=["src","alt"],ne={class:"item__info"},ue={class:"item__code"},de={class:"item__title"},pe={class:"item__form"},me={class:"item__price"},_e={class:"form__block"},he=(0,l._)("legend",{class:"form__legend"},"Цвет:",-1),fe=(0,l.uE)('<fieldset class="form__block"><legend class="form__legend">Объемб в ГБ:</legend><ul class="sizes sizes--primery"><li class="sizes__item"><label class="sizes__label"><input class="sizes__radio sr-only" type="radio" name="sizes-item" value="32"><span class="sizes__value"> 32gb </span></label></li><li class="sizes__item"><label class="sizes__label"><input class="sizes__radio sr-only" type="radio" name="sizes-item" value="64"><span class="sizes__value"> 64gb </span></label></li><li class="sizes__item"><label class="sizes__label"><input class="sizes__radio sr-only" type="radio" name="sizes-item" value="128" checked=""><span class="sizes__value"> 128gb </span></label></li></ul></fieldset>',1),ge={class:"item__row"},be=["disabled"],ve=(0,l.uE)('<div class="item__desc"><ul class="tabs"><li class="tabs__item"><a class="tabs__link tabs__link--current"> Описание </a></li><li class="tabs__item"><a class="tabs__link" href="#"> Характеристики </a></li><li class="tabs__item"><a class="tabs__link" href="#"> Гарантия </a></li><li class="tabs__item"><a class="tabs__link" href="#"> Оплата и доставка </a></li></ul><div class="item__content"><p> Навигация GPS, ГЛОНАСС, BEIDOU Galileo и QZSS<br> Синхронизация со смартфоном<br> Связь по Bluetooth Smart, ANT+ и Wi-Fi<br> Поддержка сторонних приложений<br></p><a href="#"> Все характеристики </a><h3>Что это</h3><p> Wahoo ELEMNT BOLT GPS – это велокомпьютер, который позволяет оптимизировать свои велотренировки, сделав их максимально эффективными. Wahoo ELEMNT BOLT GPS синхронизируется с датчиками по ANT+, объединяя полученную с них информацию. Данные отображаются на дисплее, а также сохраняются на смартфоне. При этом на мобильное устройство можно установить как фирменное приложение, так и различные приложения сторонних разработчиков. Велокомпьютер точно отслеживает местоположение, принимая сигнал с целого комплекса спутников. Эта информация позволяет смотреть уже преодоленные маршруты и планировать новые велопрогулки. </p><h3>Дизайн</h3><p> Велокомпьютер Wahoo ELEMNT BOLT очень компактный. Размеры устройства составляют всего 74,6 x 47,3 x 22,1 мм. что не превышает габариты смартфона. Корпус гаджета выполнен из черного пластика. На обращенной к пользователю стороне расположен дисплей диагональю 56 мм. На дисплей выводятся координаты и скорость, а также полученная со смартфона и синхронизированных датчиков информация: интенсивность, скорость вращения педалей, пульс и т.д. (датчики не входят в комплект поставки). Корпус велокомпьютера имеет степень защиты от влаги IPX7. Это означает, что устройство не боится пыли, а также выдерживает кратковременное (до 30 минут) погружение в воду на глубину не более 1 метра. </p></div></div>',1);function ye(t,e,r,o,s,c){const i=(0,l.up)("router-link"),n=(0,l.up)("ProductColor"),u=(0,l.up)("ProductCounter"),d=(0,l.up)("BaseModal");return t.productStatus.isLoading?((0,l.wg)(),(0,l.iD)("main",Ht,Yt)):t.productStatus.isFailed?((0,l.wg)(),(0,l.iD)("main",Qt,Rt)):((0,l.wg)(),(0,l.iD)("main",Xt,[(0,l._)("div",Jt,[(0,l._)("ul",te,[(0,l._)("li",ee,[(0,l.Wm)(i,{class:"breadcrumbs__link",href:"#",to:{name:"main"}},{default:(0,l.w5)((()=>[(0,l.Uk)(" Каталог ")])),_:1})]),(0,l._)("li",re,[(0,l.Wm)(i,{class:"breadcrumbs__link",href:"#",to:{name:"main"}},{default:(0,l.w5)((()=>[(0,l.Uk)((0,m.zw)(t.product.category.title),1)])),_:1})]),(0,l._)("li",ae,[(0,l._)("a",oe,(0,m.zw)(t.product.title),1)])])]),(0,l._)("section",le,[(0,l._)("div",se,[(0,l._)("div",ce,[(0,l._)("img",{width:"570",height:"570",src:t.product.imageUrl,alt:t.product.title},null,8,ie)])]),(0,l._)("div",ne,[(0,l._)("span",ue,(0,m.zw)(t.product.id),1),(0,l._)("h2",de,(0,m.zw)(t.product.title),1),(0,l._)("div",pe,[(0,l._)("form",{class:"form",action:"#",method:"POST",onSubmit:e[2]||(e[2]=(0,a.iM)(((...e)=>t.doAddToCart&&t.doAddToCart(...e)),["prevent"]))},[(0,l._)("b",me,(0,m.zw)(t.product.pricePretty)+" ₽ ",1),(0,l._)("fieldset",_e,[he,(0,l.Wm)(n,{"product-colors":t.product.colors},null,8,["product-colors"])]),fe,(0,l._)("div",ge,[(0,l.Wm)(u,{"product-amount":t.productAmount,"onUpdate:productAmount":e[0]||(e[0]=e=>t.productAmount=e)},null,8,["product-amount"]),(0,l._)("button",{class:"button button--primery",type:"submit",disabled:t.productAddSending}," В корзину ",8,be),(0,l.Wm)(d,{open:t.isShowAddedMassage,"onUpdate:open":e[1]||(e[1]=e=>t.isShowAddedMassage=e)},{default:(0,l.w5)((()=>[(0,l.Uk)(" Товар добален в корзину ")])),_:1},8,["open"])]),(0,l.wy)((0,l._)("div",null,"Товар добален в корзину",512),[[a.F8,t.productAdded]]),(0,l.wy)((0,l._)("div",null,"Добавляем товар в корзину...",512),[[a.F8,t.productAddSending]])],32)])]),ve])]))}var ke=r(1811),Pe=r(9098),we=(0,l.aZ)({components:{ProductCounter:ke.Z,ProductColor:H.Z,BaseModal:q.Z},setup(){const t=(0,D.yj)(),{product:e,fetchProduct:r,status:a,doAddToCart:o,productAmount:l,productAdded:s,productAddSending:c,isShowAddedMassage:i}=(0,Pe.Z)();return r(t.params.id),{productAmount:l,productData:e,productStatus:a,productAdded:s,productAddSending:c,isShowAddedMassage:i,product:e,doAddToCart:o}}});const Ce=(0,v.Z)(we,[["render",ye]]);var De=Ce;const Ae={class:"content container"},Ie={class:"content__top"},Ve=(0,l.uE)('<ul class="breadcrumbs"><li class="breadcrumbs__item"><a class="breadcrumbs__link" href="index.html"> Каталог </a></li><li class="breadcrumbs__item"><a class="breadcrumbs__link"> Корзина </a></li></ul><h1 class="content__title"> Корзина </h1>',2),Te={key:0},ze={class:"cart"},xe={class:"cart__form form",action:"#",method:"POST"},Fe={class:"cart__field"},Ze={class:"cart__list"},Oe={class:"cart__block"},Se=(0,l._)("p",{class:"cart__desc"}," Мы посчитаем стоимость доставки на следующем этапе ",-1),Ee={class:"cart__price"},Le=["onClick"],Ue={key:1},We=(0,l._)("img",{src:A,alt:""},null,-1),Me=[We];function Ke(t,e,r,a,o,s){const c=(0,l.up)("productAmount"),i=(0,l.up)("CartItem"),n=(0,l.up)("router-link");return(0,l.wg)(),(0,l.iD)("main",Ae,[(0,l._)("div",Ie,[Ve,(0,l.Wm)(c)]),o.isLoading?((0,l.wg)(),(0,l.iD)("div",Ue,Me)):((0,l.wg)(),(0,l.iD)("div",Te,[(0,l._)("section",ze,[(0,l._)("form",xe,[(0,l._)("div",Fe,[(0,l._)("ul",Ze,[((0,l.wg)(!0),(0,l.iD)(l.HY,null,(0,l.Ko)(t.products,(t=>((0,l.wg)(),(0,l.j4)(i,{key:t.productId,item:t},null,8,["item"])))),128))])]),(0,l._)("div",Oe,[Se,(0,l._)("p",Ee,[(0,l.Uk)(" Итого: "),(0,l._)("span",null,(0,m.zw)(s.totalPricePretty)+" ₽",1)]),(0,l.Wm)(n,{to:{name:"order"},custom:""},{default:(0,l.w5)((({navigate:e})=>[t.totalAmount>0?((0,l.wg)(),(0,l.iD)("button",{key:0,class:"cart__button button button--primery",type:"button",onClick:e}," Оформить заказ ",8,Le)):(0,l.kq)("",!0)])),_:1})])])])]))])}const $e={class:"cart__item product"},Be={class:"product__pic"},je=["src","alt"],Ne={class:"product__title"},He={class:"product__code"},qe={class:"product__price"},Ye=(0,l._)("svg",{width:"20",height:"20",fill:"currentColor"},[(0,l._)("use",{"xlink:href":"#icon-close"})],-1),Qe=[Ye];function Ge(t,e,r,o,s,c){const i=(0,l.up)("ProductCounter");return(0,l.wg)(),(0,l.iD)("li",$e,[(0,l._)("div",Be,[(0,l._)("img",{src:r.item.product.image,width:"120",height:"120",alt:r.item.product.title},null,8,je)]),(0,l._)("h3",Ne,(0,m.zw)(r.item.product.title),1),(0,l._)("span",He,(0,m.zw)(r.item.product.id),1),(0,l.Wm)(i,{"product-amount":c.amount,"onUpdate:productAmount":e[0]||(e[0]=t=>c.amount=t)},null,8,["product-amount"]),(0,l._)("b",qe,(0,m.zw)(c.totalPricePretty)+" ₽ ",1),(0,l._)("button",{class:"product__del button-del",type:"button","aria-label":"Удалить товар из корзины",onClick:e[1]||(e[1]=(0,a.iM)((e=>t.deleteProduct(r.item.productId)),["prevent"]))},Qe)])}var Re={components:{ProductCounter:ke.Z},props:["item"],data(){return{cartProductLoading:!1,cartProductLoadingFailed:!1}},computed:{totalPricePretty(){return(0,N.Z)(this.item.amount*this.item.product.price)},amount:{get(){return this.item.amount},set(t){this.$store.dispatch("updateCartProductAmount",{productId:this.item.productId,amount:t})}}},methods:{...(0,g.nv)({deleteProduct:"deleteCartProduct"})},catch(){this.cartProductLoading=!0}};const Xe=(0,v.Z)(Re,[["render",Ge]]);var Je=Xe;const tr={class:"content__info"};function er(t,e,r,a,o,s){return(0,l.wg)(),(0,l.iD)("span",tr,(0,m.zw)(t.totalAmount)+" "+(0,m.zw)(s.textCorrectCase),1)}var rr={computed:{...(0,g.Se)({totalAmount:"totalProductAmount"}),textCorrectCase(){return Ut(this.totalAmount||0)}}};const ar=(0,v.Z)(rr,[["render",er]]);var or=ar,lr={components:{CartItem:Je,productAmount:or},data(){return{isLoading:!0}},computed:{...(0,g.Se)({products:"cartDetailProducts",totalPrice:"cartTotalPrice",totalAmount:"totalProductAmount"}),totalPricePretty(){return(0,N.Z)(this.totalPrice)}},mounted(){setTimeout((()=>{this.isLoading=!1}),2e3)}};const sr=(0,v.Z)(lr,[["render",Ke]]);var cr=sr;const ir={class:"content container"},nr={class:"content__top"},ur=(0,l.uE)('<ul class="breadcrumbs"><li class="breadcrumbs__item"><a class="breadcrumbs__link" href="index.html"> Каталог </a></li><li class="breadcrumbs__item"><a class="breadcrumbs__link" href="cart.html"> Корзина </a></li><li class="breadcrumbs__item"><a class="breadcrumbs__link"> Оформление заказа </a></li></ul><h1 class="content__title"> Корзина </h1>',2),dr={class:"cart"},pr={class:"cart__field"},mr={class:"cart__data"},_r=(0,l.uE)('<div class="cart__options"><h3 class="cart__title">Доставка</h3><ul class="cart__options options"><li class="options__item"><label class="options__label"><input class="options__radio sr-only" type="radio" name="delivery" value="0" checked=""><span class="options__value"> Самовывоз <b>бесплатно</b></span></label></li><li class="options__item"><label class="options__label"><input class="options__radio sr-only" type="radio" name="delivery" value="500"><span class="options__value"> Курьером <b>500 ₽</b></span></label></li></ul><h3 class="cart__title">Оплата</h3><ul class="cart__options options"><li class="options__item"><label class="options__label"><input class="options__radio sr-only" type="radio" name="pay" value="card"><span class="options__value"> Картой при получении </span></label></li><li class="options__item"><label class="options__label"><input class="options__radio sr-only" type="radio" name="pay" value="cash"><span class="options__value"> Наличными при получении </span></label></li></ul></div>',1),hr={key:0,class:"cart__error form__error-block"},fr=(0,l._)("h4",null,"Заявка не отправлена!",-1),gr={key:1},br=(0,l._)("img",{src:A,alt:""},null,-1),vr=[br];function yr(t,e,r,o,s,c){const i=(0,l.up)("productAmount"),n=(0,l.up)("BaseFormText"),u=(0,l.up)("BaseFormTextarea"),d=(0,l.up)("CartOrders");return(0,l.wg)(),(0,l.iD)("main",ir,[(0,l._)("div",nr,[ur,(0,l.Wm)(i)]),(0,l._)("section",dr,[s.isBusy?((0,l.wg)(),(0,l.iD)("div",gr,vr)):((0,l.wg)(),(0,l.iD)("form",{key:0,class:"cart__form form",action:"#",method:"POST",onSubmit:e[5]||(e[5]=(0,a.iM)(((...t)=>c.order&&c.order(...t)),["prevent"]))},[(0,l._)("div",pr,[(0,l._)("div",mr,[(0,l.Wm)(n,{modelValue:s.formData.name,"onUpdate:modelValue":e[0]||(e[0]=t=>s.formData.name=t),"form-data-value":s.formData.name,title:"ФИО",error:s.formError.name,placeholder:"Введите ваше полное имя"},null,8,["modelValue","form-data-value","error"]),(0,l.Wm)(n,{modelValue:s.formData.address,"onUpdate:modelValue":e[1]||(e[1]=t=>s.formData.address=t),"form-data-value":s.formData.address,title:"Адрес доставки",error:s.formError.address,placeholder:"Введите ваш адрес"},null,8,["modelValue","form-data-value","error"]),(0,l.Wm)(n,{modelValue:s.formData.phone,"onUpdate:modelValue":e[2]||(e[2]=t=>s.formData.phone=t),"form-data-value":s.formData.phone,type:"tel",title:"Телефон",error:s.formError.phone,placeholder:"Введите ваш телефон"},null,8,["modelValue","form-data-value","error"]),(0,l.Wm)(n,{modelValue:s.formData.email,"onUpdate:modelValue":e[3]||(e[3]=t=>s.formData.email=t),"form-data-value":s.formData.email,title:"Email",error:s.formError.email,placeholder:"Введите ваш Email"},null,8,["modelValue","form-data-value","error"]),(0,l.Wm)(u,{modelValue:s.formData.comment,"onUpdate:modelValue":e[4]||(e[4]=t=>s.formData.comment=t),"form-data-value":s.formData.comment,title:"Комментарий к заказу",error:s.formError.comment,placeholder:"Ваши пожелания"},null,8,["modelValue","form-data-value","error"])]),_r]),(0,l.Wm)(d,{products:t.products,"total-price":t.totalPrice,"total-amount":t.totalAmount},null,8,["products","total-price","total-amount"]),s.formErrorMessage?((0,l.wg)(),(0,l.iD)("div",hr,[fr,(0,l._)("p",null,(0,m.zw)(s.formErrorMessage),1)])):(0,l.kq)("",!0)],32))])])}r(7658);const kr=["type","placeholder"];function Pr(t,e,r,o,s,c){const i=(0,l.up)("BaseFormField");return(0,l.wg)(),(0,l.j4)(i,{title:t.title,error:t.error},{default:(0,l.w5)((()=>[(0,l.wy)((0,l._)("input",{class:"form__input",type:r.type,"onUpdate:modelValue":e[0]||(e[0]=t=>s.localFormDataValue=t),placeholder:t.placeholder},null,8,kr),[[a.YZ,s.localFormDataValue]])])),_:1},8,["title","error"])}const wr={class:"form__label"},Cr={class:"form__value"},Dr={key:0,class:"form__error"};function Ar(t,e,r,a,o,s){return(0,l.wg)(),(0,l.iD)("label",wr,[(0,l.WI)(t.$slots,"default"),(0,l._)("span",Cr,(0,m.zw)(r.title),1),r.error?((0,l.wg)(),(0,l.iD)("span",Dr,(0,m.zw)(r.error),1)):(0,l.kq)("",!0)])}var Ir={props:["title","error"]};const Vr=(0,v.Z)(Ir,[["render",Ar]]);var Tr=Vr,zr={props:["title","error","placeholder","modelValue"],components:{BaseFormField:Tr},computed:{formDataValue:{get(){return this.modelValue},set(t){this.$emit("update:modelValue",t)}}}},xr={props:{type:{default:"text"},formDataValue:{default:""}},mixins:[zr],data(){return{localFormDataValue:this.formDataValue}},watch:{formDataValue(t){this.localFormDataValue=t},localFormDataValue(t){this.$emit("update:modelValue",t)}}};const Fr=(0,v.Z)(xr,[["render",Pr]]);var Zr=Fr;const Or=["placeholder"];function Sr(t,e,r,o,s,c){const i=(0,l.up)("BaseFormField");return(0,l.wg)(),(0,l.j4)(i,{title:t.title,error:t.error},{default:(0,l.w5)((()=>[(0,l.wy)((0,l._)("textarea",{class:"form__input form__input--area","onUpdate:modelValue":e[0]||(e[0]=e=>t.formDataValue=e),name:"comments",placeholder:t.placeholder},"\n            ",8,Or),[[a.nr,t.formDataValue]])])),_:1},8,["title","error"])}var Er={mixins:[zr]};const Lr=(0,v.Z)(Er,[["render",Sr]]);var Ur=Lr;const Wr={class:"cart__block"},Mr={key:0},Kr={class:"cart__orders"},$r=["item"],Br={class:"cart__total"},jr=(0,l._)("p",null,[(0,l.Uk)("Доставка: "),(0,l._)("b",null,"500 ₽")],-1),Nr={key:0,class:"cart__button button button--primery",type:"submit"},Hr={key:1},qr=(0,l._)("img",{src:A,alt:""},null,-1),Yr=[qr];function Qr(t,e,r,a,o,s){return(0,l.wg)(),(0,l.iD)("div",Wr,[o.isLoading?((0,l.wg)(),(0,l.iD)("div",Hr,Yr)):((0,l.wg)(),(0,l.iD)("div",Mr,[(0,l._)("ul",Kr,[((0,l.wg)(!0),(0,l.iD)(l.HY,null,(0,l.Ko)(r.products,(t=>((0,l.wg)(),(0,l.iD)("li",{class:"cart__order",key:t.productId,item:t},[(0,l._)("h3",null,(0,m.zw)(t.product.title),1),(0,l._)("b",null,(0,m.zw)(t.amount)+" x "+(0,m.zw)(t.product.price)+" ₽",1),(0,l._)("span",null,"Артикул: "+(0,m.zw)(t.product.id),1)],8,$r)))),128))]),(0,l._)("div",Br,[jr,(0,l._)("p",null,[(0,l.Uk)("Итого: "),(0,l._)("b",null,(0,m.zw)(r.totalAmount),1),(0,l.Uk)(" "+(0,m.zw)(s.textCorrectCase)+" на сумму ",1),(0,l._)("b",null,(0,m.zw)(s.totalPricePretty)+" ₽",1)])]),t.totalProductAmount>0?((0,l.wg)(),(0,l.iD)("button",Nr," Оформить заказ ")):(0,l.kq)("",!0)]))])}var Gr={props:["products","totalPrice","totalAmount"],data(){return{isLoading:!0}},computed:{...(0,g.Se)({totalProductAmount:"totalProductAmount"}),totalPricePretty(){return(0,N.Z)(this.totalPrice)},textCorrectCase(){return Ut(this.totalAmount||0)}},mounted(){setTimeout((()=>{this.isLoading=!1}),2e3)}};const Rr=(0,v.Z)(Gr,[["render",Qr]]);var Xr=Rr,Jr={data(){return{formData:{name:"",address:"",phone:"",email:"",comment:""},formError:{},formErrorMessage:"",isBusy:!1}},components:{BaseFormText:Zr,BaseFormTextarea:Ur,CartOrders:Xr,productAmount:or},methods:{order(){this.isBusy=!0,this.formError={},Zt.Z.post(Ot.C+"/api/orders",{...this.formData},{params:{userAccessKey:this.$store.state.userAccessKey}}).then((t=>{this.$store.commit("resetCart"),this.$store.commit("updateOrderInfo",t.data),this.$router.push({name:"orderInfo",params:{id:t.data.id}})})).catch((t=>{this.formError=t.response.data.error.request||{},this.formErrorMessage=t.response.data.error.message})).finally((()=>{this.isBusy=!1}))}},computed:{...(0,g.Se)({products:"cartDetailProducts",totalPrice:"cartTotalPrice",totalAmount:"totalProductAmount"})}};const ta=(0,v.Z)(Jr,[["render",yr]]);var ea=ta;const ra={class:"content container"},aa={class:"content__top"},oa=(0,l.uE)('<ul class="breadcrumbs"><li class="breadcrumbs__item"><a class="breadcrumbs__link" href="index.html"> Каталог </a></li><li class="breadcrumbs__item"><a class="breadcrumbs__link" href="cart.html"> Корзина </a></li><li class="breadcrumbs__item"><a class="breadcrumbs__link"> Оформление заказа </a></li></ul>',1),la={class:"content__title"},sa={key:0},ca={class:"cart"},ia={key:0,class:"cart__form form",action:"#",method:"POST"},na={class:"cart__field"},ua=(0,l._)("p",{class:"cart__message"}," Благодарим за выбор нашего магазина. На Вашу почту придет письмо с деталями заказа. Наши менеджеры свяжутся с Вами в течение часа для уточнения деталей доставки. ",-1),da={class:"dictionary"},pa={class:"dictionary__item"},ma=(0,l._)("span",{class:"dictionary__key"}," Получатель ",-1),_a={class:"dictionary__value"},ha={class:"dictionary__item"},fa=(0,l._)("span",{class:"dictionary__key"}," Адрес доставки ",-1),ga={class:"dictionary__value"},ba={class:"dictionary__item"},va=(0,l._)("span",{class:"dictionary__key"}," Телефон ",-1),ya={class:"dictionary__value"},ka={class:"dictionary__item"},Pa=(0,l._)("span",{class:"dictionary__key"}," Email ",-1),wa={class:"dictionary__value"},Ca=(0,l._)("li",{class:"dictionary__item"},[(0,l._)("span",{class:"dictionary__key"}," Способ оплаты "),(0,l._)("span",{class:"dictionary__value"}," картой при получении ")],-1),Da={key:1},Aa=(0,l._)("img",{src:A,alt:""},null,-1),Ia=[Aa];function Va(t,e,r,a,o,s){const c=(0,l.up)("CartOrders");return(0,l.wg)(),(0,l.iD)("main",ra,[(0,l._)("div",aa,[oa,(0,l._)("h1",la,[(0,l.Uk)(" Заказ оформлен "),null!=t.orderInfo?((0,l.wg)(),(0,l.iD)("span",sa,"№ "+(0,m.zw)(t.orderInfo.id),1)):(0,l.kq)("",!0)])]),(0,l._)("section",ca,[null!=t.orderInfo?((0,l.wg)(),(0,l.iD)("form",ia,[(0,l._)("div",na,[ua,(0,l._)("ul",da,[(0,l._)("li",pa,[ma,(0,l._)("span",_a,(0,m.zw)(t.orderInfo.name),1)]),(0,l._)("li",ha,[fa,(0,l._)("span",ga,(0,m.zw)(t.orderInfo.address),1)]),(0,l._)("li",ba,[va,(0,l._)("span",ya,(0,m.zw)(t.orderInfo.phone),1)]),(0,l._)("li",ka,[Pa,(0,l._)("span",wa,(0,m.zw)(t.orderInfo.email),1)]),Ca])]),(0,l.Wm)(c,{products:s.products,"total-price":s.totalPrice,"total-amount":s.totalAmount},null,8,["products","total-price","total-amount"])])):((0,l.wg)(),(0,l.iD)("div",Da,Ia))])])}var Ta={components:{CartOrders:Xr},computed:{...(0,g.Se)({orderInfo:"orderInfo"}),products(){return null==this.orderInfo?[]:this.orderInfo.basket.items},totalPrice(){return null==this.orderInfo?0:this.orderInfo.totalPrice},totalAmount(){if(null==this.orderInfo)return 0;let t=0;return this.orderInfo.basket.items.forEach((e=>{t+=e.amount})),t}},created(){this.$store.state.orderInfo&&this.$store.state.orderInfo.id===this.$route.params.id||this.$store.dispatch("loadOrderInfo",this.$route.params.id)}};const za=(0,v.Z)(Ta,[["render",Va]]);var xa=za;console.log(Kt);const Fa=[{name:"main",component:Kt,path:"/"},{name:"cart",component:cr,path:"/cart/"},{name:"product",component:De,path:"/product/:id"},{name:"notFound",component:Nt,path:"/:pathMatch(.*)*"},{name:"order",component:ea,path:"/order"},{name:"orderInfo",component:xa,path:"/order/:id"}],Za=(0,D.p7)({history:(0,D.r5)("/vue-project/"),routes:Fa});var Oa=Za,Sa=(0,g.MT)({state:{cartProducts:[],userAccessKey:null,cartProductsData:[],orderInfo:null},mutations:{updateOrderInfo(t,e){t.orderInfo=e},resetCart(t){t.cartProducts=[],t.cartProductsData=[]},updateCartProductAmount(t,{productId:e,amount:r}){const a=t.cartProducts.find((t=>t.productId===e));a&&(a.amount=r)},deleteCartProduct(t,e){t.cartProducts=t.cartProducts.filter((t=>t.productId!==e))},updateUserAccessKey(t,e){t.userAccessKey=e},updateCartProductsData(t,e){t.cartProductsData=e},syncCartProducts(t){t.cartProducts=t.cartProductsData.map((t=>({productId:t.product.id,amount:t.quantity})))}},getters:{cartDetailProducts(t){return t.cartProducts.map((e=>{const r=t.cartProductsData.find((t=>t.product.id===e.productId)).product;return{...e,product:{...r,image:r.image.file.url}}}))},cartTotalPrice(t,e){return e.cartDetailProducts.reduce(((t,e)=>e.product.price*e.amount+t),0)},totalProductAmount(t,e){return e.cartDetailProducts.reduce(((t,e)=>e.amount+t),0)},orderInfo(t){return null===t.orderInfo?null:(t.orderInfo.basket.items=t.orderInfo.basket.items.map((t=>({productId:t.product.id,amount:t.quantity,product:t.product}))),console.log(t.orderInfo),t.orderInfo)}},actions:{loadOrderInfo(t,e){return console.log(t),Zt.Z.get(Ot.C+"/api/orders/"+e,{params:{userAccessKey:t.state.userAccessKey}}).then((e=>{t.commit("updateOrderInfo",e.data)}))},loadCart(t){return Zt.Z.get(Ot.C+"/api/baskets",{params:{userAccessKey:t.state.userAccessKey}}).then((e=>{t.state.userAccessKey||(localStorage.setItem("userAccessKey",e.data.user.accessKey),t.commit("updateUserAccessKey",e.data.user.accessKey)),t.commit("updateCartProductsData",e.data.items),t.commit("syncCartProducts")}))},addProductToCart(t,{productId:e,amount:r}){return Zt.Z.post(Ot.C+"/api/baskets/products",{productId:e,quantity:r},{params:{userAccessKey:t.state.userAccessKey}}).then((e=>{t.commit("updateCartProductsData",e.data.items),t.commit("syncCartProducts")}))},updateCartProductAmount(t,{productId:e,amount:r}){if(t.commit("updateCartProductAmount",{productId:e,amount:r}),!(r<1))return Zt.Z.put(Ot.C+"/api/baskets/products",{productId:e,quantity:r},{params:{userAccessKey:t.state.userAccessKey}}).then((e=>{t.commit("updateCartProductsData",e.data.items)})).catch((()=>{t.commit("syncCartProducts")}))},deleteCartProduct(t,e){return Zt.Z.delete(Ot.C+"/api/baskets/products?userAccessKey="+t.state.userAccessKey,{data:{productId:e}}).then((()=>{t.commit("deleteCartProduct",e)})).catch((()=>{alert("Ошибка удаления продукта")}))}}});const Ea=(0,a.ri)(C);Ea.use(Oa),Ea.use(Sa),Ea.use(o.ZP),Ea.mount("#app")},9816:function(t,e,r){r.d(e,{Z:function(){return _}});var a=r(3396);const o=t=>((0,a.dD)("data-v-9cac364c"),t=t(),(0,a.Cn)(),t),l=o((()=>(0,a._)("div",{class:"teleport-blackout"},null,-1))),s={ref:"contentElement",class:"teleport-modal__content"};function c(t,e,r,o,c,i){return t.open?((0,a.wg)(),(0,a.j4)(a.lR,{key:0,to:"#teleport-target"},[l,(0,a._)("div",{class:"teleport-modal",onClick:e[1]||(e[1]=(...e)=>t.onOutsideClick&&t.onOutsideClick(...e))},[(0,a._)("div",s,[(0,a._)("button",{type:"button",class:"teleport-modal__close",onClick:e[0]||(e[0]=(...e)=>t.doClose&&t.doClose(...e))},"X"),(0,a.WI)(t.$slots,"default",{},void 0,!0)],512)])])):(0,a.kq)("",!0)}var i=r(4870);const n=(0,i.iH)(new Set);function u(){const t=(0,a.FN)().uid,e=(0,i.iH)(!1),r=()=>{e.value=!0,n.value.add(t)},o=()=>{e.value=!1,n.value.delete(t)},l=(0,a.Fl)((()=>!!n.value.size)),s=()=>{l.value?(document.body.style.paddingRight=window.innerWidth-document.documentElement.clientWidth+"px",document.body.style.overflow="hidden"):(document.body.style.overflow=null,document.body.style.paddingRight=null)};return(0,a.YP)(l,(()=>{s()})),{doOpen:r,doClose:o,isOpen:e,isAnyOpen:l}}var d=(0,a.aZ)({props:{open:{type:Boolean}},setup(t,{emit:e}){const r=(0,i.iH)(null),{doOpen:o,doClose:l}=u(),s=t=>{t.target!==r.value&&t.target.contains(r.value)&&c()},c=()=>{e("update:open",!1)};return(0,a.YP)((()=>t.open),(t=>{t?o():l()}),{immediate:!0}),{onOutsideClick:s,doClose:c,contentElement:r}}}),p=r(89);const m=(0,p.Z)(d,[["render",c],["__scopeId","data-v-9cac364c"]]);var _=m},234:function(t,e,r){r.d(e,{Z:function(){return p}});var a=r(3396),o=r(7139);const l={class:"colors"},s={class:"colors__label"},c=["value"];function i(t,e,r,i,n,u){return(0,a.wg)(),(0,a.iD)("div",null,[(0,a._)("ul",l,[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(r.productColors,(t=>((0,a.wg)(),(0,a.iD)("li",{class:"colors__item",key:t.id},[(0,a._)("label",s,[(0,a._)("input",{class:"colors__radio sr-only",type:"radio",name:"color-item",value:t.title},null,8,c),(0,a._)("span",{class:"colors__value",style:(0,o.j5)({"background-color":t.code})},null,4)])])))),128))])])}var n={props:["productColors"]},u=r(89);const d=(0,u.Z)(n,[["render",i]]);var p=d},1811:function(t,e,r){r.d(e,{Z:function(){return _}});var a=r(3396),o=r(9242);const l={class:"form__counter"},s=(0,a._)("svg",{width:"12",height:"12",fill:"currentColor"},[(0,a._)("use",{"xlink:href":"#icon-minus"})],-1),c=[s],i=(0,a._)("svg",{width:"12",height:"12",fill:"currentColor"},[(0,a._)("use",{"xlink:href":"#icon-plus"})],-1),n=[i];function u(t,e,r,s,i,u){return(0,a.wg)(),(0,a.iD)("div",l,[(0,a._)("button",{type:"button","aria-label":"Убрать один товар",onClick:e[0]||(e[0]=(...t)=>u.deleteOneProduct&&u.deleteOneProduct(...t))},c),(0,a.wy)((0,a._)("input",{type:"number",min:"1","onUpdate:modelValue":e[1]||(e[1]=t=>i.localProductAmount=t)},null,512),[[o.nr,i.localProductAmount,void 0,{number:!0}]]),(0,a._)("button",{type:"button","aria-label":"Добавить один товар",onClick:e[2]||(e[2]=(...t)=>u.addOneProduct&&u.addOneProduct(...t))},n)])}var d={props:["productAmount"],data(){return{localProductAmount:this.productAmount}},watch:{productAmount(t){this.localProductAmount=t},localProductAmount(t){this.$emit("update:productAmount",t)}},methods:{addOneProduct(){this.$emit("update:productAmount",this.localProductAmount+1)},deleteOneProduct(){this.localProductAmount>1&&this.$emit("update:productAmount",this.localProductAmount-1)}}},p=r(89);const m=(0,p.Z)(d,[["render",u]]);var _=m},7813:function(t,e,r){t.exports=r.p+"img/1494.9271ec56.gif"}},e={};function r(a){var o=e[a];if(void 0!==o)return o.exports;var l=e[a]={exports:{}};return t[a].call(l.exports,l,l.exports,r),l.exports}r.m=t,function(){var t=[];r.O=function(e,a,o,l){if(!a){var s=1/0;for(u=0;u<t.length;u++){a=t[u][0],o=t[u][1],l=t[u][2];for(var c=!0,i=0;i<a.length;i++)(!1&l||s>=l)&&Object.keys(r.O).every((function(t){return r.O[t](a[i])}))?a.splice(i--,1):(c=!1,l<s&&(s=l));if(c){t.splice(u--,1);var n=o();void 0!==n&&(e=n)}}return e}l=l||0;for(var u=t.length;u>0&&t[u-1][2]>l;u--)t[u]=t[u-1];t[u]=[a,o,l]}}(),function(){r.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return r.d(e,{a:e}),e}}(),function(){r.d=function(t,e){for(var a in e)r.o(e,a)&&!r.o(t,a)&&Object.defineProperty(t,a,{enumerable:!0,get:e[a]})}}(),function(){r.f={},r.e=function(t){return Promise.all(Object.keys(r.f).reduce((function(e,a){return r.f[a](t,e),e}),[]))}}(),function(){r.u=function(t){return"js/"+t+".1166dcac.js"}}(),function(){r.miniCssF=function(t){return"css/"+t+".961ce4eb.css"}}(),function(){r.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"===typeof window)return window}}()}(),function(){r.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)}}(),function(){var t={},e="hello-world:";r.l=function(a,o,l,s){if(t[a])t[a].push(o);else{var c,i;if(void 0!==l)for(var n=document.getElementsByTagName("script"),u=0;u<n.length;u++){var d=n[u];if(d.getAttribute("src")==a||d.getAttribute("data-webpack")==e+l){c=d;break}}c||(i=!0,c=document.createElement("script"),c.charset="utf-8",c.timeout=120,r.nc&&c.setAttribute("nonce",r.nc),c.setAttribute("data-webpack",e+l),c.src=a),t[a]=[o];var p=function(e,r){c.onerror=c.onload=null,clearTimeout(m);var o=t[a];if(delete t[a],c.parentNode&&c.parentNode.removeChild(c),o&&o.forEach((function(t){return t(r)})),e)return e(r)},m=setTimeout(p.bind(null,void 0,{type:"timeout",target:c}),12e4);c.onerror=p.bind(null,c.onerror),c.onload=p.bind(null,c.onload),i&&document.head.appendChild(c)}}}(),function(){r.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})}}(),function(){r.p="/hello-world/"}(),function(){if("undefined"!==typeof document){var t=function(t,e,r,a,o){var l=document.createElement("link");l.rel="stylesheet",l.type="text/css";var s=function(r){if(l.onerror=l.onload=null,"load"===r.type)a();else{var s=r&&("load"===r.type?"missing":r.type),c=r&&r.target&&r.target.href||e,i=new Error("Loading CSS chunk "+t+" failed.\n("+c+")");i.code="CSS_CHUNK_LOAD_FAILED",i.type=s,i.request=c,l.parentNode&&l.parentNode.removeChild(l),o(i)}};return l.onerror=l.onload=s,l.href=e,r?r.parentNode.insertBefore(l,r.nextSibling):document.head.appendChild(l),l},e=function(t,e){for(var r=document.getElementsByTagName("link"),a=0;a<r.length;a++){var o=r[a],l=o.getAttribute("data-href")||o.getAttribute("href");if("stylesheet"===o.rel&&(l===t||l===e))return o}var s=document.getElementsByTagName("style");for(a=0;a<s.length;a++){o=s[a],l=o.getAttribute("data-href");if(l===t||l===e)return o}},a=function(a){return new Promise((function(o,l){var s=r.miniCssF(a),c=r.p+s;if(e(s,c))return o();t(a,c,null,o,l)}))},o={143:0};r.f.miniCss=function(t,e){var r={753:1};o[t]?e.push(o[t]):0!==o[t]&&r[t]&&e.push(o[t]=a(t).then((function(){o[t]=0}),(function(e){throw delete o[t],e})))}}}(),function(){var t={143:0};r.f.j=function(e,a){var o=r.o(t,e)?t[e]:void 0;if(0!==o)if(o)a.push(o[2]);else{var l=new Promise((function(r,a){o=t[e]=[r,a]}));a.push(o[2]=l);var s=r.p+r.u(e),c=new Error,i=function(a){if(r.o(t,e)&&(o=t[e],0!==o&&(t[e]=void 0),o)){var l=a&&("load"===a.type?"missing":a.type),s=a&&a.target&&a.target.src;c.message="Loading chunk "+e+" failed.\n("+l+": "+s+")",c.name="ChunkLoadError",c.type=l,c.request=s,o[1](c)}};r.l(s,i,"chunk-"+e,e)}},r.O.j=function(e){return 0===t[e]};var e=function(e,a){var o,l,s=a[0],c=a[1],i=a[2],n=0;if(s.some((function(e){return 0!==t[e]}))){for(o in c)r.o(c,o)&&(r.m[o]=c[o]);if(i)var u=i(r)}for(e&&e(a);n<s.length;n++)l=s[n],r.o(t,l)&&t[l]&&t[l][0](),t[l]=0;return r.O(u)},a=self["webpackChunkhello_world"]=self["webpackChunkhello_world"]||[];a.forEach(e.bind(null,0)),a.push=e.bind(null,a.push.bind(a))}();var a=r.O(void 0,[998],(function(){return r(3755)}));a=r.O(a)})();
//# sourceMappingURL=app.7c99f956.js.map